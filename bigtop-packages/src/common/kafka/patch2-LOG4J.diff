commit 98c89d975f46f6a89d1c6efbfd4cb68eaa33fac5
Author: “Vivek <“approach2vivek@gmail.com”>
Date:   Wed Jan 10 06:50:19 2024 +0530

    Replace log4j with reload4j

diff --git a/build.gradle b/build.gradle
index e21609fd49..a95a91bc5a 100644
--- a/build.gradle
+++ b/build.gradle
@@ -77,6 +77,8 @@ allprojects {
       }
     }
     configurations.all {
+        exclude group: 'log4j', module: 'log4j'
+    
       // zinc is the Scala incremental compiler, it has a configuration for its own dependencies
       // that are unrelated to the project dependencies, we should not change them
       if (name != "zinc") {
@@ -799,6 +801,7 @@ project(':core') {
     testCompile libs.apachedsJdbmPartition
     testCompile libs.junitJupiter
     testCompile libs.slf4jlog4j
+    testCompile libs.log4j
     testCompile(libs.jfreechart) {
       exclude group: 'junit', module: 'junit'
     }
@@ -1042,6 +1045,7 @@ project(':metadata') {
     testCompile libs.junitJupiter
     testCompile libs.hamcrest
     testCompile libs.slf4jlog4j
+    testCompile libs.log4j
     testCompile project(':clients').sourceSets.test.output
   }
 
@@ -1135,6 +1139,7 @@ project(':clients') {
     testCompile libs.hamcrest
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
     testRuntime libs.jacksonDatabind
     testRuntime libs.jacksonJDK8Datatypes
     testCompile libs.jacksonJaxrsJsonProvider
@@ -1251,6 +1256,7 @@ project(':raft') {
     testCompile libs.mockitoCore
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   task createVersionFile(dependsOn: determineCommitId) {
@@ -1337,6 +1343,7 @@ project(':tools') {
     testCompile libs.mockitoInline // supports mocking static methods, final classes, etc.
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   javadoc {
@@ -1381,6 +1388,7 @@ project(':shell') {
     testCompile libs.junitJupiter
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   javadoc {
@@ -1435,6 +1443,7 @@ project(':streams') {
 
     testRuntimeOnly project(':streams:test-utils')
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   task processMessages(type:JavaExec) {
@@ -1564,6 +1573,7 @@ project(':streams:streams-scala') {
     testCompile libs.hamcrest
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   javadoc {
@@ -1602,6 +1612,7 @@ project(':streams:test-utils') {
     testCompile libs.hamcrest
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   javadoc {
@@ -1629,6 +1640,7 @@ project(':streams:examples') {
     compile project(':streams')
     compile project(':connect:json')  // this dependency should be removed after we unify data API
     compile libs.slf4jlog4j
+    compile libs.log4j
 
     testCompile project(':streams:test-utils')
     testCompile project(':clients').sourceSets.test.output // for org.apache.kafka.test.IntegrationTest
@@ -1861,6 +1873,7 @@ project(':jmh-benchmarks') {
     compile libs.jmhCoreBenchmarks
     compile libs.mockitoCore
     compile libs.slf4jlog4j
+    compile libs.log4j
   }
 
   tasks.withType(JavaCompile) {
@@ -1901,6 +1914,7 @@ project(':log4j-appender') {
   dependencies {
     compile project(':clients')
     compile libs.slf4jlog4j
+    compile libs.log4j
 
     testCompile project(':clients').sourceSets.test.output
     testCompile libs.junitJupiter
@@ -1924,6 +1938,7 @@ project(':connect:api') {
 
     testCompile libs.junitJupiter
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
     testCompile project(':clients').sourceSets.test.output
   }
 
@@ -1960,6 +1975,7 @@ project(':connect:transforms') {
     testCompile libs.junitJupiter
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
     testCompile project(':clients').sourceSets.test.output
   }
 
@@ -1998,6 +2014,7 @@ project(':connect:json') {
     testCompile libs.junitJupiter
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
     testCompile project(':clients').sourceSets.test.output
   }
 
@@ -2061,6 +2078,7 @@ project(':connect:runtime') {
     testCompile project(':core').sourceSets.test.output
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   javadoc {
@@ -2139,6 +2157,7 @@ project(':connect:file') {
     testCompile libs.junitJupiter
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
     testCompile project(':clients').sourceSets.test.output
   }
 
@@ -2177,6 +2196,7 @@ project(':connect:basic-auth-extension') {
     testCompile project(':clients').sourceSets.test.output
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
     testRuntime libs.jerseyContainerServlet
   }
 
@@ -2222,6 +2242,7 @@ project(':connect:mirror') {
 
     testRuntime project(':connect:runtime')
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
     testRuntime libs.bcpkix
   }
 
@@ -2258,6 +2279,7 @@ project(':connect:mirror-client') {
     testCompile project(':clients').sourceSets.test.output
 
     testRuntime libs.slf4jlog4j
+    testRuntime libs.log4j
   }
 
   javadoc {
diff --git a/gradle/dependencies.gradle b/gradle/dependencies.gradle
index 43c297fb7a..313ced8075 100644
--- a/gradle/dependencies.gradle
+++ b/gradle/dependencies.gradle
@@ -175,7 +175,7 @@ libs += [
   kafkaStreams_25: "org.apache.kafka:kafka-streams:$versions.kafka_25",
   kafkaStreams_26: "org.apache.kafka:kafka-streams:$versions.kafka_26",
   kafkaStreams_27: "org.apache.kafka:kafka-streams:$versions.kafka_27",
-  log4j: "log4j:log4j:$versions.log4j",
+  log4j: "ch.qos.reload4j:reload4j:1.2.25",
   lz4: "org.lz4:lz4-java:$versions.lz4",
   metrics: "com.yammer.metrics:metrics-core:$versions.metrics",
   mockitoCore: "org.mockito:mockito-core:$versions.mockito",
